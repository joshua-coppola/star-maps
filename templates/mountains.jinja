{% extends "page_base.jinja" %}

{% block title %}
Search
{% endblock title %}

{% block pagehead %}
<link href="/mountain.css" rel="stylesheet" />
<link href="/form.css" rel="stylesheet" />
{% endblock pagehead %}

{% block content %}
<h1 id="title">Mountains</h1>

<section id="sidebar">
  <h2>Filters</h2>

  <form id="filters"></form>
</section>

<section id="content">
  <form id="search-form" class="search-form">
    <input id="search" name="q" type="search" placeholder="Search all mountains" />
    <input id="submit" type="submit" value="Search" />
    <!-- Rework this field to click on arrow to change sort direction instead of having dropdown for each -->
    <select id="sort" name="sort">
      <option value="difficulty-asc">Difficulty &#x25b2;</option>
      <option value="difficulty-desc">Difficulty &#x25bc;</option>
      <option value="beginner-asc">Beginner Friendliness &#x25b2;</option>
      <option value="beginner-desc">Beginner Friendliness &#x25bc;</option>
    </select>
  </form>

  <ul class="results">
    {% for mountain in mountains %}
    <li class="result">
      <h2>{{mountain.name}}</h2>
      <p class="copy">
        {{mountain.state}} — {{mountain.trail_count}} Trails — {{mountain.vertical}}m Vertical
      </p>
      <a href="{{mountain.map_link}}">View map</a>
    </li>
    {% endfor %}
  </ul>

  <div class="links">
    {% if 'prev' in pages %}
      <a href="{{pages.prev}}">← Previous Page</a>
    {% endif %}
    <span style="flex-grow: 1"></span>
    {% if 'next' in pages %}
      <a href="{{pages.next}}">Next Page →</a>
    {% endif %}
  </div>
</section>
{% endblock content %}

{% block postbody %}
<script src="/search.js"></script>
{% endblock postbody %}
